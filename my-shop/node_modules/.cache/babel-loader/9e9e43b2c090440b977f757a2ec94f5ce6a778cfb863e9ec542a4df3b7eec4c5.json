{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MYPC\\\\Documents\\\\project\\\\react-redux\\\\my-shop\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { login } from '../components/actions/Loginaction';\nimport { connect } from 'react-redux';\nimport { Link, Navigate } from 'react-router-dom';\nimport withNavigate from '../components/wrappers/LoginWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        password,\n        role\n      } = this.state;\n      const {\n        login,\n        navigate\n      } = this.props;\n      login({\n        email,\n        password,\n        role\n      }, navigate);\n    };\n    this.state = {\n      email: '',\n      password: '',\n      role: 'admin'\n    };\n  }\n  render() {\n    const {\n      isAuthenticated,\n      user,\n      loading,\n      error\n    } = this.props;\n    // if (isAuthenticated) {\n    //   const userId = user.id;\n    //   if (user.role === 'admin') {\n    //     return <Navigate to={`/admin/${userId}`} replace />;\n    //   } else {\n    //     return <Navigate to={`/user/${userId}`} replace />;\n    //   }\n    // }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: this.state.email,\n          onChange: this.handleInputChange,\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: this.state.password,\n          onChange: this.handleInputChange,\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"role\",\n          id: \"role\",\n          value: this.state.role,\n          onChange: this.handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading,\n  error: state.login.error,\n  isAuthenticated: state.login.isAuthenticated,\n  user: state.login.user\n});\nconst mapDispatchToProps = dispatch => ({\n  login: (userData, navigate) => dispatch(login(userData, navigate))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(withNavigate(Login));","map":{"version":3,"names":["React","Component","login","connect","Link","Navigate","withNavigate","jsxDEV","_jsxDEV","Login","constructor","props","handleInputChange","event","setState","target","name","value","handleSubmit","preventDefault","email","password","role","state","navigate","render","isAuthenticated","user","loading","error","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","id","mapStateToProps","mapDispatchToProps","dispatch","userData"],"sources":["C:/Users/MYPC/Documents/project/react-redux/my-shop/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { login } from '../components/actions/Loginaction';\r\nimport { connect } from 'react-redux';\r\nimport { Link,Navigate  } from 'react-router-dom';\r\nimport withNavigate from '../components/wrappers/LoginWrapper'\r\n\r\nexport class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      role: 'admin'\r\n    };\r\n  }\r\n  handleInputChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { email, password, role } = this.state;\r\n    const {login,navigate}=this.props;\r\n    login({ email, password, role },navigate);\r\n\r\n  }\r\n  render() {\r\n    const { isAuthenticated, user, loading, error } = this.props;\r\n    // if (isAuthenticated) {\r\n    //   const userId = user.id;\r\n    //   if (user.role === 'admin') {\r\n    //     return <Navigate to={`/admin/${userId}`} replace />;\r\n    //   } else {\r\n    //     return <Navigate to={`/user/${userId}`} replace />;\r\n    //   }\r\n    // }\r\n\r\n    return (\r\n      <div className='login-container'>\r\n        <Link to='/'><button>Back</button></Link>\r\n        <form onSubmit={this.handleSubmit}>\r\n\r\n          <label>Email:</label>\r\n          <input\r\n            type='email'\r\n            value={this.state.email}\r\n            onChange={this.handleInputChange}\r\n            name='email'\r\n          />\r\n\r\n          <label>Password:</label>\r\n          <input\r\n            type='password'\r\n            value={this.state.password}\r\n            onChange={this.handleInputChange}\r\n            name='password'\r\n          />\r\n          <label >Role:</label>\r\n          <select\r\n            name=\"role\"\r\n            id=\"role\"\r\n            value={this.state.role}\r\n            onChange={this.handleInputChange}>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"user\">User</option>\r\n          </select>\r\n\r\n          <button type='submit'>Login</button>\r\n        </form>\r\n        {loading && <p>loading...</p>}\r\n        {error && <p>Error: {error}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.login.loading,\r\n  error: state.login.error,\r\n  isAuthenticated: state.login.isAuthenticated,\r\n  user: state.login.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login :(userData,navigate) => dispatch(login(userData,navigate))\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withNavigate(Login))\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}