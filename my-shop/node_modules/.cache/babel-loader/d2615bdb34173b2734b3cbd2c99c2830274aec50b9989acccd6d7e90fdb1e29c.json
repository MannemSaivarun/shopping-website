{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MYPC\\\\Documents\\\\project\\\\react-redux\\\\my-shop\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { login } from '../components/actions/Loginaction';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport withNavigate from './LoginWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        password,\n        role\n      } = this.state;\n      const {\n        login,\n        navigate\n      } = this.props;\n      login({\n        email,\n        password,\n        role\n      }, navigate);\n    };\n    this.state = {\n      email: '',\n      password: '',\n      role: 'admin'\n    };\n  }\n  render() {\n    const {\n      loading,\n      error\n    } = this.props;\n    if (isAuthenticated) {\n      const userId = user.id;\n      if (user.role === 'admin') {\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: `/admin/${userId}`,\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 16\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: `/user/${userId}`,\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 16\n        }, this);\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: this.state.email,\n          onChange: this.handleInputChange,\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: this.state.password,\n          onChange: this.handleInputChange,\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"role\",\n          id: \"role\",\n          value: this.state.role,\n          onChange: this.handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"user\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading,\n  error: state.login.error\n});\nconst mapDispatchToProps = dispatch => ({\n  login: (userData, navigate) => dispatch(login(userData, navigate))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(withNavigate(Login));","map":{"version":3,"names":["React","Component","login","connect","Link","withNavigate","jsxDEV","_jsxDEV","Login","constructor","props","handleInputChange","event","setState","target","name","value","handleSubmit","preventDefault","email","password","role","state","navigate","render","loading","error","isAuthenticated","userId","user","id","Navigate","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onSubmit","type","onChange","mapStateToProps","mapDispatchToProps","dispatch","userData"],"sources":["C:/Users/MYPC/Documents/project/react-redux/my-shop/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { login } from '../components/actions/Loginaction';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport withNavigate from './LoginWrapper'\r\n\r\nexport class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      role: 'admin'\r\n    };\r\n  }\r\n  handleInputChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { email, password, role } = this.state;\r\n    const {login,navigate}=this.props;\r\n    login({ email, password, role },navigate);\r\n\r\n  }\r\n  render() {\r\n    const { loading, error } = this.props;\r\n    if (isAuthenticated) {\r\n      const userId = user.id;\r\n      if (user.role === 'admin') {\r\n        return <Navigate to={`/admin/${userId}`} replace />;\r\n      } else {\r\n        return <Navigate to={`/user/${userId}`} replace />;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className='login-container'>\r\n        <Link to='/'><button>Back</button></Link>\r\n        <form onSubmit={this.handleSubmit}>\r\n\r\n          <label>Email:</label>\r\n          <input\r\n            type='email'\r\n            value={this.state.email}\r\n            onChange={this.handleInputChange}\r\n            name='email'\r\n          />\r\n\r\n          <label>Password:</label>\r\n          <input\r\n            type='password'\r\n            value={this.state.password}\r\n            onChange={this.handleInputChange}\r\n            name='password'\r\n          />\r\n          <label >Role:</label>\r\n          <select\r\n            name=\"role\"\r\n            id=\"role\"\r\n            value={this.state.role}\r\n            onChange={this.handleInputChange}>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"user\">User</option>\r\n          </select>\r\n\r\n          <button type='submit'>Login</button>\r\n        </form>\r\n        {loading && <p>loading...</p>}\r\n        {error && <p>Error: {error}</p>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.login.loading,\r\n  error: state.login.error\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login :(userData,navigate) => dispatch(login(userData,navigate))\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withNavigate(Login))\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}